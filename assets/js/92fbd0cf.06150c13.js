"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[7689],{3035(e,n,i){i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>o,frontMatter:()=>r,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"developer/addon-settings","title":"\ud83d\udee0\ufe0f AddonSettings S\u0131n\u0131f Mimarisi","description":"AddonSettings s\u0131n\u0131f\u0131n\u0131n teknik yap\u0131s\u0131, \xf6nbellek y\xf6netimi, kancalar ve g\xfcvenlik protokolleri.","source":"@site/docs/04-developer/addon-settings.md","sourceDirName":"04-developer","slug":"/developer/addon-settings","permalink":"/mhm-rentiva-docs/docs/developer/addon-settings","draft":false,"unlisted":false,"editUrl":"https://github.com/MaxHandMade/mhm-rentiva-docs/tree/main/docs/04-developer/addon-settings.md","tags":[],"version":"current","frontMatter":{"id":"addon-settings","title":"\ud83d\udee0\ufe0f AddonSettings S\u0131n\u0131f Mimarisi","sidebar_label":"Addon Ayarlar\u0131 (Teknik)","description":"AddonSettings s\u0131n\u0131f\u0131n\u0131n teknik yap\u0131s\u0131, \xf6nbellek y\xf6netimi, kancalar ve g\xfcvenlik protokolleri."},"sidebar":"tutorialSidebar","previous":{"title":"REST API","permalink":"/mhm-rentiva-docs/docs/developer/rest-api"},"next":{"title":"Dashboard Widget\'lar\u0131","permalink":"/mhm-rentiva-docs/docs/developer/dashboard-widgets"}}');var t=i(4848),s=i(8453);const r={id:"addon-settings",title:"\ud83d\udee0\ufe0f AddonSettings S\u0131n\u0131f Mimarisi",sidebar_label:"Addon Ayarlar\u0131 (Teknik)",description:"AddonSettings s\u0131n\u0131f\u0131n\u0131n teknik yap\u0131s\u0131, \xf6nbellek y\xf6netimi, kancalar ve g\xfcvenlik protokolleri."},d="AddonSettings S\u0131n\u0131f\u0131 - Teknik Dok\xfcmantasyon",a={},c=[{value:"\ud83d\udccb \u0130\xe7indekiler",id:"-i\u0307\xe7indekiler",level:2},{value:"\ud83c\udfd7\ufe0f Genel Bak\u0131\u015f",id:"\ufe0f-genel-bak\u0131\u015f",level:2},{value:"\ud83d\udccc S\u0131n\u0131f Sabitleri",id:"-s\u0131n\u0131f-sabitleri",level:2},{value:"\u2699\ufe0f Metotlar ve Yap\u0131",id:"\ufe0f-metotlar-ve-yap\u0131",level:2},{value:"1. <code>init()</code>",id:"1-init",level:3},{value:"2. <code>get_fields_config()</code>",id:"2-get_fields_config",level:3},{value:"3. <code>register()</code>",id:"3-register",level:3},{value:"\ud83d\ude80 Performans ve \xd6nbellek",id:"-performans-ve-\xf6nbellek",level:2},{value:"\ud83e\ude9d Hooks (Kancalar)",id:"-hooks-kancalar",level:2},{value:"\ud83d\udd12 G\xfcvenlik ve Sanitizasyon",id:"-g\xfcvenlik-ve-sanitizasyon",level:2},{value:"\ud83d\udd04 De\u011fi\u015fiklik G\xfcnl\xfc\u011f\xfc",id:"-de\u011fi\u015fiklik-g\xfcnl\xfc\u011f\xfc",level:2}];function h(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"addonsettings-s\u0131n\u0131f\u0131---teknik-dok\xfcmantasyon",children:"AddonSettings S\u0131n\u0131f\u0131 - Teknik Dok\xfcmantasyon"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.img,{src:"https://img.shields.io/badge/version-4.9.8-blue?style=flat-square",alt:"Version"})," ",(0,t.jsx)(n.img,{src:"https://img.shields.io/badge/security-WPCS%20Compliant-green?style=flat-square",alt:"Security"})," ",(0,t.jsx)(n.img,{src:"https://img.shields.io/badge/last%20updated-24.01.2026-orange?style=flat-square",alt:"Updated"})]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\ud83c\udfaf Ama\xe7"})," - Bu belge, MHM Rentiva eklentisindeki ek hizmetlerin (addons) davran\u0131\u015flar\u0131n\u0131 y\xf6neten ",(0,t.jsx)(n.code,{children:"AddonSettings"})," s\u0131n\u0131f\u0131n\u0131n teknik mimarisini ve geli\u015ftirici d\xf6k\xfcmantasyonunu detayland\u0131r\u0131r."]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"-i\u0307\xe7indekiler",children:"\ud83d\udccb \u0130\xe7indekiler"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#-genel-bakis",children:"Genel Bak\u0131\u015f"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#-sinif-sabitleri",children:"S\u0131n\u0131f Sabitleri"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#-metotlar-ve-yapi",children:"Metotlar ve Yap\u0131"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#-performans-ve-onbellek",children:"Performans ve \xd6nbellek"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#-hooks-kancalar",children:"Hooks (Kancalar)"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#-guvenlik-ve-sanitizasyon",children:"G\xfcvenlik ve Sanitizasyon"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#-degisiklik-gunlugu",children:"De\u011fi\u015fiklik G\xfcnl\xfc\u011f\xfc"})}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"\ufe0f-genel-bak\u0131\u015f",children:"\ud83c\udfd7\ufe0f Genel Bak\u0131\u015f"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"AddonSettings"})," s\u0131n\u0131f\u0131, ek hizmetlerin (GPS, \xe7ocuk koltu\u011fu vb.) g\xf6r\xfcnt\xfclenmesini, fiyatland\u0131r\u0131lmas\u0131n\u0131 ve admin paneli \xfczerindeki davran\u0131\u015flar\u0131n\u0131 yap\u0131land\u0131rmak i\xe7in geli\u015ftirilmi\u015f ",(0,t.jsx)(n.code,{children:"final"})," bir s\u0131n\u0131ft\u0131r. T\xfcm i\u015flemler statik metotlar \xfczerinden y\xfcr\xfct\xfcl\xfcr."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Temel Fonksiyonlar:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u2705 WordPress Settings API ile tam entegrasyon"}),"\n",(0,t.jsx)(n.li,{children:"\u2705 Multi-level Caching (Runtime + Object Cache)"}),"\n",(0,t.jsx)(n.li,{children:"\u2705 Dinamik Form Render (Match Expressions & Fallback)"}),"\n",(0,t.jsx)(n.li,{children:"\u2705 Whitelist Kay\u0131t Mekanizmas\u0131"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"-s\u0131n\u0131f-sabitleri",children:"\ud83d\udccc S\u0131n\u0131f Sabitleri"}),"\n",(0,t.jsx)(n.p,{children:"S\u0131n\u0131f\u0131n \xe7al\u0131\u015fmas\u0131n\u0131 kontrol eden temel yap\u0131land\u0131rma de\u011ferleri:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"Sabit"}),(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"De\u011fer"}),(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"A\xe7\u0131klama"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.code,{children:"SECTION_ID"})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.code,{children:"mhm_rentiva_addons_section"})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"Ayarlar sayfas\u0131ndaki b\xf6l\xfcm ID'si."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.code,{children:"OPTION_NAME"})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.code,{children:"mhm_rentiva_settings"})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"Ana ayarlar dizisinin opsiyon ad\u0131."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.code,{children:"CACHE_KEY"})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.code,{children:"mhm_rentiva_settings_addons_v1"})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"Nesne \xf6nbelle\u011fi i\xe7in kullan\u0131lan anahtar."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.code,{children:"CACHE_TTL"})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.code,{children:"3600"})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"\xd6nbellek ge\xe7erlilik s\xfcresi (1 saat)."})]})]})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"\ufe0f-metotlar-ve-yap\u0131",children:"\u2699\ufe0f Metotlar ve Yap\u0131"}),"\n",(0,t.jsxs)(n.h3,{id:"1-init",children:["1. ",(0,t.jsx)(n.code,{children:"init()"})]}),"\n",(0,t.jsxs)(n.p,{children:["Bile\u015feni ba\u015flat\u0131r. \u015eu an i\xe7in ",(0,t.jsx)(n.code,{children:"SettingsCore"})," taraf\u0131ndan \xe7a\u011fr\u0131lmaktad\u0131r ancak bile\u015fene \xf6zel kancalar\u0131n eklenebilece\u011fi merkezi noktad\u0131r."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"public static function init(): void\n"})}),"\n",(0,t.jsxs)(n.h3,{id:"2-get_fields_config",children:["2. ",(0,t.jsx)(n.code,{children:"get_fields_config()"})]}),"\n",(0,t.jsx)(n.p,{children:"Alan yap\u0131land\u0131rmas\u0131n\u0131 merkezi bir dizi olarak d\xf6nd\xfcr\xfcr. Bu dizi; tip, ba\u015fl\u0131k ve varsay\u0131lan de\u011ferleri belirler."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"\xd6nemli Alanlar:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"mhm_rentiva_addon_require_confirmation"}),": (checkbox) Ek hizmet onay\u0131 gerekir mi?"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"mhm_rentiva_addon_show_prices_in_calendar"}),": (checkbox) Takvimde fiyat g\xf6sterimi."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"mhm_rentiva_addon_display_order"}),": (select) S\u0131ralama d\xfczeni."]}),"\n"]}),"\n",(0,t.jsxs)(n.h3,{id:"3-register",children:["3. ",(0,t.jsx)(n.code,{children:"register()"})]}),"\n",(0,t.jsxs)(n.p,{children:["Ayarlar\u0131 WordPress'e kaydeder. Whitelist (beyaz liste) kontrol\xfc i\xe7in ",(0,t.jsx)(n.code,{children:"register_setting"})," \xe7a\u011fr\u0131s\u0131n\u0131 i\xe7erir."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"public static function register(): void\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"-performans-ve-\xf6nbellek",children:"\ud83d\ude80 Performans ve \xd6nbellek"}),"\n",(0,t.jsxs)(n.p,{children:["S\u0131n\u0131f, veritaban\u0131 y\xfck\xfcn\xfc minimize etmek i\xe7in ",(0,t.jsx)(n.strong,{children:"iki a\u015famal\u0131"})," bir \xf6nbellek stratejisi uygular:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Level 1: Runtime Cache:"})," ",(0,t.jsx)(n.code,{children:"$runtime_cache"})," de\u011fi\u015fkeni \xfczerinden ayn\u0131 sayfa y\xfcklemesi i\xe7indeki tekrarl\u0131 \xe7a\u011fr\u0131lar\u0131 engeller."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Level 2: Object Cache:"})," Redis veya Memcached aktifse ",(0,t.jsx)(n.code,{children:"wp_cache_set"})," \xfczerinden veriyi haf\u0131zada tutar."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\xd6nbelle\u011fi Temizleme:"}),"\n",(0,t.jsx)(n.code,{children:"clear_cache()"})," metodu ayarlar g\xfcncellendi\u011finde veya manuel olarak tetiklendi\u011finde her iki seviyeyi de temizler:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",children:"public static function clear_cache(): void\n{\n    self::$runtime_cache = null;\n    wp_cache_delete(self::CACHE_KEY, 'mhm-rentiva');\n}\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"-hooks-kancalar",children:"\ud83e\ude9d Hooks (Kancalar)"}),"\n",(0,t.jsx)(n.p,{children:"Geli\u015ftiricilerin ayarlar\u0131 geni\u015fletebilmesi i\xe7in sa\u011flanan filtreler:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"Filtre Ad\u0131"}),(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"Parametreler"}),(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"A\xe7\u0131klama"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.code,{children:"mhm_rentiva_addon_settings_fields"})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.code,{children:"array $fields"})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"Ayar alanlar\u0131 listesini de\u011fi\u015ftirir."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.code,{children:"mhm_rentiva_addon_default_settings"})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:(0,t.jsx)(n.code,{children:"array $defaults"})}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"Varsay\u0131lan de\u011fer dizisini filtreler."})]})]})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"-g\xfcvenlik-ve-sanitizasyon",children:"\ud83d\udd12 G\xfcvenlik ve Sanitizasyon"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"sanitize_settings"})," metodu, PHP 8.0 ",(0,t.jsx)(n.code,{children:"match"})," ifadesini kullanarak t\xfcm giri\u015fleri tip bazl\u0131 do\u011frular:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Checkbox:"})," ",(0,t.jsx)(n.code,{children:"1"})," veya ",(0,t.jsx)(n.code,{children:"0"})," olarak zorlan\u0131r."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Select:"})," Sadece ",(0,t.jsx)(n.code,{children:"get_fields_config"})," i\xe7inde tan\u0131ml\u0131 opsiyonlar\u0131 kabul eder."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Number/Int:"})," ",(0,t.jsx)(n.code,{children:"absint()"})," ile mutlak tam say\u0131ya d\xf6n\xfc\u015ft\xfcr\xfcl\xfcr."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Whitelist:"})," ",(0,t.jsx)(n.code,{children:"manage_options"})," yetkisi olmayan kullan\u0131c\u0131lar\u0131n kaydetme i\u015flemi engellenir."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Hata \xd6nleme:"})," ",(0,t.jsx)(n.code,{children:"register_field"})," metodu dinamik callback yap\u0131s\u0131nda ",(0,t.jsx)(n.code,{children:"is_callable"})," kontrol\xfc yaparak tan\u0131mlanmam\u0131\u015f metodlar\u0131n siteyi \xe7\xf6kertmesini (Fatal Error) engeller."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"-de\u011fi\u015fiklik-g\xfcnl\xfc\u011f\xfc",children:"\ud83d\udd04 De\u011fi\u015fiklik G\xfcnl\xfc\u011f\xfc"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"Tarih"}),(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"De\u011fi\u015fiklik"}),(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"S\xfcr\xfcm"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"24.01.2026"}),(0,t.jsxs)(n.td,{style:{textAlign:"left"},children:["PHP 8.0 ",(0,t.jsx)(n.code,{children:"match"})," ifadesi ve tip casting optimizasyonlar\u0131 yap\u0131ld\u0131."]}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"4.9.8"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"24.01.2026"}),(0,t.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,t.jsx)(n.code,{children:"init()"})," metodu ve merkezi ",(0,t.jsx)(n.code,{children:"clear_cache"})," yap\u0131s\u0131 eklendi."]}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"4.9.8"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"24.01.2026"}),(0,t.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,t.jsx)(n.code,{children:"is_callable"})," g\xfcvenli\u011fi ve fallback render metodu eklendi."]}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"4.6.1"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"22.01.2026"}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"\xc7ok katmanl\u0131 caching deste\u011fi eklendi."}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"4.0.0"})]})]})]})]})}function o(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},8453(e,n,i){i.d(n,{R:()=>r,x:()=>d});var l=i(6540);const t={},s=l.createContext(t);function r(e){const n=l.useContext(s);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),l.createElement(s.Provider,{value:n},e.children)}}}]);