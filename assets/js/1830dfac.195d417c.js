"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[271],{3469(e,i,l){l.r(i),l.d(i,{assets:()=>d,contentTitle:()=>s,default:()=>h,frontMatter:()=>t,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"developer/database","title":"Veritaban\u0131 Yap\u0131s\u0131","description":"Version Security Updated","source":"@site/docs/04-developer/database.md","sourceDirName":"04-developer","slug":"/developer/database","permalink":"/mhm-rentiva-docs/docs/developer/database","draft":false,"unlisted":false,"editUrl":"https://github.com/MaxHandMade/mhm-rentiva-docs/tree/main/docs/04-developer/database.md","tags":[],"version":"current","frontMatter":{"id":"database","title":"Veritaban\u0131 Yap\u0131s\u0131","sidebar_label":"Veritaban\u0131","slug":"/developer/database"},"sidebar":"tutorialSidebar","previous":{"title":"Dashboard Widget\'lar\u0131","permalink":"/mhm-rentiva-docs/docs/developer/dashboard-widgets"},"next":{"title":"Tarih Do\u011frulama","permalink":"/mhm-rentiva-docs/docs/developer/security-validate-date"}}');var n=l(4848),r=l(8453);const t={id:"database",title:"Veritaban\u0131 Yap\u0131s\u0131",sidebar_label:"Veritaban\u0131",slug:"/developer/database"},s="Veritaban\u0131 Dok\xfcmantasyonu",d={},c=[{value:"Dosyalar",id:"dosyalar",level:2},{value:"MetaKeysDocumentation.php",id:"metakeysdocumentationphp",level:3},{value:"DatabaseInitialization.php",id:"databaseinitializationphp",level:3},{value:"DatabaseCleanupPage.php",id:"databasecleanuppagephp",level:3},{value:"Meta Key Kategorileri",id:"meta-key-kategorileri",level:2},{value:"Ara\xe7 Meta Key&#39;leri",id:"ara\xe7-meta-keyleri",level:3},{value:"Rezervasyon Meta Key&#39;leri",id:"rezervasyon-meta-keyleri",level:3},{value:"M\xfc\u015fteri Meta Key&#39;leri",id:"m\xfc\u015fteri-meta-keyleri",level:3},{value:"\xd6deme Meta Key&#39;leri",id:"\xf6deme-meta-keyleri",level:3},{value:"Makbuz Meta Key&#39;leri",id:"makbuz-meta-keyleri",level:3},{value:"Sistem Meta Key&#39;leri",id:"sistem-meta-keyleri",level:3},{value:"\xd6nemli Kurallar",id:"\xf6nemli-kurallar",level:2},{value:"Yap\u0131lmas\u0131 Gerekenler:",id:"yap\u0131lmas\u0131-gerekenler",level:3},{value:"Yap\u0131lmamas\u0131 Gerekenler:",id:"yap\u0131lmamas\u0131-gerekenler",level:3},{value:"Standart Meta Key Format\u0131",id:"standart-meta-key-format\u0131",level:2},{value:"Meta Key Tipleri",id:"meta-key-tipleri",level:2},{value:"String Meta Key&#39;leri",id:"string-meta-keyleri",level:3},{value:"Number Meta Key&#39;leri",id:"number-meta-keyleri",level:3},{value:"Array Meta Key&#39;leri",id:"array-meta-keyleri",level:3},{value:"Kullan\u0131m",id:"kullan\u0131m",level:2},{value:"Meta Key Ekleme:",id:"meta-key-ekleme",level:3},{value:"Meta Key Kullan\u0131m\u0131:",id:"meta-key-kullan\u0131m\u0131",level:3},{value:"Sorun Giderme",id:"sorun-giderme",level:2},{value:"Meta Key Bulunamad\u0131:",id:"meta-key-bulunamad\u0131",level:3},{value:"Tutars\u0131z Meta Key&#39;ler:",id:"tutars\u0131z-meta-keyler",level:3},{value:"Performans Sorunlar\u0131:",id:"performans-sorunlar\u0131",level:3}];function m(e){const i={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.img,{src:"https://img.shields.io/badge/version-4.6.2-blue?style=flat-square",alt:"Version"})," ",(0,n.jsx)(i.img,{src:"https://img.shields.io/badge/security-WPCS%20Compliant-green?style=flat-square",alt:"Security"})," ",(0,n.jsx)(i.img,{src:"https://img.shields.io/badge/last%20updated-22.01.2026-orange?style=flat-square",alt:"Updated"})]}),"\n",(0,n.jsx)(i.header,{children:(0,n.jsx)(i.h1,{id:"veritaban\u0131-dok\xfcmantasyonu",children:"Veritaban\u0131 Dok\xfcmantasyonu"})}),"\n",(0,n.jsx)(i.p,{children:"Bu klas\xf6r, MHM Rentiva eklentisi i\xe7in veritaban\u0131 yap\u0131s\u0131 ve meta key dok\xfcmantasyonunu i\xe7erir."}),"\n",(0,n.jsx)(i.h2,{id:"dosyalar",children:"Dosyalar"}),"\n",(0,n.jsxs)(i.p,{children:["T\xfcm veritaban\u0131 ile ilgili dosyalar ",(0,n.jsx)(i.code,{children:"src/Admin/Utilities/Database/"})," klas\xf6r\xfcnde bulunur:"]}),"\n",(0,n.jsx)(i.h3,{id:"metakeysdocumentationphp",children:"MetaKeysDocumentation.php"}),"\n",(0,n.jsx)(i.p,{children:"Eklentide kullan\u0131lan t\xfcm meta key'ler i\xe7in standart dok\xfcmantasyon. Meta key'lerin kategori, tip, de\u011fer ve kullan\u0131m alanlar\u0131na g\xf6re listesini i\xe7erir. Yeni meta key'ler bu dok\xfcmantasyona g\xf6re eklenmelidir."}),"\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.strong,{children:"Konum:"})," ",(0,n.jsx)(i.code,{children:"src/Admin/Utilities/Database/MetaKeysDocumentation.php"})]}),"\n",(0,n.jsx)(i.h3,{id:"databaseinitializationphp",children:"DatabaseInitialization.php"}),"\n",(0,n.jsx)(i.p,{children:"Eklenti ilk kuruldu\u011funda veritaban\u0131n\u0131 olu\u015fturan kod. Meta key kay\u0131tlar\u0131, varsay\u0131lan ayarlar ve cron job'lar\u0131 i\xe7erir. Eklenti aktivasyonunda otomatik olarak \xe7al\u0131\u015f\u0131r."}),"\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.strong,{children:"Konum:"})," ",(0,n.jsx)(i.code,{children:"src/Admin/Utilities/Database/DatabaseInitialization.php"})]}),"\n",(0,n.jsx)(i.h3,{id:"databasecleanuppagephp",children:"DatabaseCleanupPage.php"}),"\n",(0,n.jsx)(i.p,{children:"Admin panel i\xe7in veritaban\u0131 temizleme sayfas\u0131. Gereksiz meta key'leri temizlemek ve veritaban\u0131 performans\u0131n\u0131 optimize etmek i\xe7in ara\xe7lar sa\u011flar."}),"\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.strong,{children:"Konum:"})," ",(0,n.jsx)(i.code,{children:"src/Admin/Utilities/Database/DatabaseCleanupPage.php"})]}),"\n",(0,n.jsx)(i.h2,{id:"meta-key-kategorileri",children:"Meta Key Kategorileri"}),"\n",(0,n.jsx)(i.h3,{id:"ara\xe7-meta-keyleri",children:"Ara\xe7 Meta Key'leri"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"_mhm_vehicle_availability"})," - Ara\xe7 m\xfcsaitlik durumu (STANDART)"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"_mhm_vehicle_status"})," - Ara\xe7 durumu (yedek)"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"_mhm_rentiva_*"})," - Ara\xe7 bilgileri (marka, model, y\u0131l, vb.)"]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"rezervasyon-meta-keyleri",children:"Rezervasyon Meta Key'leri"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"_mhm_vehicle_id"})," - Rezerve edilen arac\u0131n ID'si"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"_mhm_status"})," - Rezervasyon durumu"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"_mhm_*_date"})," - Tarih bilgileri"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"_mhm_*_time"})," - Saat bilgileri"]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"m\xfc\u015fteri-meta-keyleri",children:"M\xfc\u015fteri Meta Key'leri"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"_mhm_customer_*"})," - M\xfc\u015fteri bilgileri (ad, soyad, e-posta, telefon)"]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"\xf6deme-meta-keyleri",children:"\xd6deme Meta Key'leri"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"_mhm_payment_*"})," - \xd6deme bilgileri (y\xf6ntem, durum, tutar)"]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"makbuz-meta-keyleri",children:"Makbuz Meta Key'leri"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"_mhm_receipt_*"})," - Makbuz bilgileri (durum, dosya, tarih)"]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"sistem-meta-keyleri",children:"Sistem Meta Key'leri"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"_mhm_shortcode"})," - Shortcode bilgileri"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"_mhm_auto_created"})," - Otomatik olu\u015fturuldu"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"_mhm_booking_*"})," - Rezervasyon sistemi bilgileri"]}),"\n"]}),"\n",(0,n.jsx)(i.h2,{id:"\xf6nemli-kurallar",children:"\xd6nemli Kurallar"}),"\n",(0,n.jsx)(i.h3,{id:"yap\u0131lmas\u0131-gerekenler",children:"Yap\u0131lmas\u0131 Gerekenler:"}),"\n",(0,n.jsxs)(i.ol,{children:["\n",(0,n.jsx)(i.li,{children:"Yeni meta key'leri bu dok\xfcmantasyona g\xf6re ekleyin"}),"\n",(0,n.jsx)(i.li,{children:"Meta key isimlerini tutarl\u0131 olu\u015fturun"}),"\n",(0,n.jsx)(i.li,{children:"Her zaman gerekli meta key'leri ekleyin"}),"\n",(0,n.jsx)(i.li,{children:"Meta key tiplerini do\u011fru tan\u0131mlay\u0131n (string, number, array)"}),"\n",(0,n.jsx)(i.li,{children:"De\u011fer aral\u0131klar\u0131n\u0131 a\xe7\u0131k\xe7a belirtin"}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"yap\u0131lmamas\u0131-gerekenler",children:"Yap\u0131lmamas\u0131 Gerekenler:"}),"\n",(0,n.jsxs)(i.ol,{children:["\n",(0,n.jsx)(i.li,{children:"Eski meta key'leri kullanmay\u0131n"}),"\n",(0,n.jsx)(i.li,{children:"Tutars\u0131z meta key isimleri olu\u015fturmay\u0131n"}),"\n",(0,n.jsx)(i.li,{children:"Gereksiz meta key'ler eklemeyin"}),"\n",(0,n.jsx)(i.li,{children:"Meta key tiplerini kar\u0131\u015ft\u0131rmay\u0131n"}),"\n",(0,n.jsx)(i.li,{children:"De\u011fer aral\u0131klar\u0131n\u0131 tan\u0131ms\u0131z b\u0131rakmay\u0131n"}),"\n"]}),"\n",(0,n.jsx)(i.h2,{id:"standart-meta-key-format\u0131",children:"Standart Meta Key Format\u0131"}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{children:"_mhm_[category]_[field_name]\n"})}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.strong,{children:"\xd6rnekler:"})}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"_mhm_vehicle_availability"})," - Ara\xe7 m\xfcsaitlik durumu"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"_mhm_booking_status"})," - Rezervasyon durumu"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"_mhm_customer_email"})," - M\xfc\u015fteri e-postas\u0131"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"_mhm_payment_method"})," - \xd6deme y\xf6ntemi"]}),"\n"]}),"\n",(0,n.jsx)(i.h2,{id:"meta-key-tipleri",children:"Meta Key Tipleri"}),"\n",(0,n.jsx)(i.h3,{id:"string-meta-keyleri",children:"String Meta Key'leri"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Tip:"})," ",(0,n.jsx)(i.code,{children:"string"})]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Kullan\u0131m:"})," Metin bilgileri (ad, soyad, e-posta, vb.)"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Sanitize:"})," ",(0,n.jsx)(i.code,{children:"sanitize_text_field"}),", ",(0,n.jsx)(i.code,{children:"sanitize_email"})]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"number-meta-keyleri",children:"Number Meta Key'leri"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Tip:"})," ",(0,n.jsx)(i.code,{children:"number"})]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Kullan\u0131m:"})," Say\u0131sal bilgiler (ID, fiyat, y\u0131l, vb.)"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Sanitize:"})," ",(0,n.jsx)(i.code,{children:"absint"}),", ",(0,n.jsx)(i.code,{children:"floatval"})]}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"array-meta-keyleri",children:"Array Meta Key'leri"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Tip:"})," ",(0,n.jsx)(i.code,{children:"array"})]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Kullan\u0131m:"})," \xc7oklu de\u011ferler (\xf6zellikler, ekipman, vb.)"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.strong,{children:"Sanitize:"})," \xd6zel array sanitization callback'leri"]}),"\n"]}),"\n",(0,n.jsx)(i.h2,{id:"kullan\u0131m",children:"Kullan\u0131m"}),"\n",(0,n.jsx)(i.h3,{id:"meta-key-ekleme",children:"Meta Key Ekleme:"}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-php",children:"register_post_meta('vehicle', '_mhm_vehicle_availability', [\n    'type' => 'string',\n    'single' => true,\n    'sanitize_callback' => 'sanitize_text_field',\n    'auth_callback' => '__return_true',\n    'show_in_rest' => true,\n    'description' => 'Vehicle availability status (active/inactive)'\n]);\n"})}),"\n",(0,n.jsx)(i.h3,{id:"meta-key-kullan\u0131m\u0131",children:"Meta Key Kullan\u0131m\u0131:"}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-php",children:"// De\u011fer alma\n$availability = get_post_meta($vehicle_id, '_mhm_vehicle_availability', true);\n\n// De\u011fer kaydetme\nupdate_post_meta($vehicle_id, '_mhm_vehicle_availability', 'active');\n"})}),"\n",(0,n.jsx)(i.h2,{id:"sorun-giderme",children:"Sorun Giderme"}),"\n",(0,n.jsx)(i.h3,{id:"meta-key-bulunamad\u0131",children:"Meta Key Bulunamad\u0131:"}),"\n",(0,n.jsxs)(i.ol,{children:["\n",(0,n.jsxs)(i.li,{children:["Meta key'in ",(0,n.jsx)(i.code,{children:"DatabaseInitialization.php"})," dosyas\u0131nda kay\u0131tl\u0131 olup olmad\u0131\u011f\u0131n\u0131 kontrol edin"]}),"\n",(0,n.jsx)(i.li,{children:"Eklenti aktivasyonunu yeniden \xe7al\u0131\u015ft\u0131r\u0131n"}),"\n",(0,n.jsx)(i.li,{children:"Veritaban\u0131nda meta key'in varl\u0131\u011f\u0131n\u0131 kontrol edin"}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"tutars\u0131z-meta-keyler",children:"Tutars\u0131z Meta Key'ler:"}),"\n",(0,n.jsxs)(i.ol,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"MetaKeysDocumentation.php"})," dosyas\u0131n\u0131 kontrol edin"]}),"\n",(0,n.jsxs)(i.li,{children:["Standart format\u0131 kullan\u0131n: ",(0,n.jsx)(i.code,{children:"_mhm_[category]_[field_name]"})]}),"\n",(0,n.jsx)(i.li,{children:"Eski meta key'leri temizleyin"}),"\n"]}),"\n",(0,n.jsx)(i.h3,{id:"performans-sorunlar\u0131",children:"Performans Sorunlar\u0131:"}),"\n",(0,n.jsxs)(i.ol,{children:["\n",(0,n.jsx)(i.li,{children:"Gereksiz meta key'leri temizleyin"}),"\n",(0,n.jsx)(i.li,{children:"Meta key'leri do\u011fru tiplerle tan\u0131mlay\u0131n"}),"\n",(0,n.jsx)(i.li,{children:"Sanitize callback'lerini kullan\u0131n"}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(m,{...e})}):m(e)}},8453(e,i,l){l.d(i,{R:()=>t,x:()=>s});var a=l(6540);const n={},r=a.createContext(n);function t(e){const i=a.useContext(r);return a.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function s(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:t(e.components),a.createElement(r.Provider,{value:i},e.children)}}}]);